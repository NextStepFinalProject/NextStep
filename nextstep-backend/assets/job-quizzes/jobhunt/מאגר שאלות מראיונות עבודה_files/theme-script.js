jQuery(document).ready(function($){"use strict";$('.preloader').remove()
if($('#advance-search-option').length){$('.advance-search-toggle').click(function(){if($('#advance-search-option:visible').length){$('#advance-search-option').slideUp();}else{$('#advance-search-option').slideDown();}return false;});}var formObj=$("#homeResumeUpload");var fileObj=$("#the_file");var homePageResumeUploaded=false;$("#dz-message").click(function(event){console.log("old home page click");return;if(homePageResumeUploaded){console.log('Upload disabled');return;}})
$(".ghost_upload").click(function(event){console.log("restForm click "+new Date());if(location.pathname=='/restuploadform/'){console.log("only on this page");var url='mailto:'+'dana.l@jobhunt.co.il'+"?subject=Send%20us%20your%20CV%20and%20we'll%20invite%20you%20to%20a%20personal%20meeting";window.open(url,'_blank')
return;console.log("no data sent to ga on this page");var gaData=$(this).parent().nextAll().last().children('input');if(gaData.is('input')){console.log("found ga data passed: "+gaData.val());$(this).next(".fallback").children(".the_file_rest").trigger('click');}return;}if(!isWeWorkIp){ga('send','event','cv upload sidebar');}else{}$(this).next(".fallback").children(".the_file_rest").trigger('click');})
function showErrorMsg(hide,reset,show,msg,text){hide.hide();reset.val("");msg.text(text);show.show();}function checkFileExt(filePath){var validFileTypes=["doc","docx","pdf"];var validFileFlag=false;if(filePath==""||filePath==undefined||filePath==null){return false;}var lastDotPos=filePath.lastIndexOf(".");var fileType=filePath.slice(lastDotPos+1);fileType=fileType.toLowerCase();for(var i=0;i<validFileTypes.length;i++){if(fileType==validFileTypes[i]){validFileFlag=true;}}if(!validFileFlag){return false;}return true;}formObj.on("change",function(event){console.log('old home page file upload click trigger');return;var formData=new FormData($(this)[0]);$.ajax({beforeSend:function(){$('#uploading').show()
$('#upload_error, #upload_cont').hide()
var filePath=$("#the_file").val();var result=checkFileExt(filePath);if(!result){showErrorMsg($('#uploading'),$("#the_file"),$('#upload_error, #upload_cont'),$('#upload_error'),uploadWrongFileTypeMessage);return false;}},url:uplaodAjaxRequestUrl,type:'POST',data:formData,cache:false,contentType:false,processData:false,success:function(data){$('#uploading').hide();var dzmessageCSS={"padding-top":"0px","font-size":"48px","cursor":"default"};$('#dz-message').css(dzmessageCSS).text(uploadSuccessMessage);homePageResumeUploaded=true;},error:function(error){console.log("Error func >> "+JSON.stringify(error));var text="Error happened on upload. Please try again.";var errorObj=error.responseJSON;if(errorObj.error){if(errorObj.message){text=errorObj.message;}}showErrorMsg($('#uploading'),$("#the_file"),$('#upload_error, #upload_cont'),$('#upload_error'),text);}});});$(".wpResumeUpload").on("change",function(event){var formData=new FormData($(this)[0]);var form=$(this);$.ajax({beforeSend:function(){form.find('#uploading').show()
form.find('#upload_error, #upload_cont').hide()
var filePath=form.find(".the_file_rest").val();var result=checkFileExt(filePath);if(!result){showErrorMsg(form.find('#uploading'),form.find(".the_file_rest"),form.find('#upload_error, #upload_cont'),form.find('#upload_error'),uploadWrongFileTypeMessage);return false;}},url:uplaodAjaxRequestUrl,type:'POST',data:formData,cache:false,contentType:false,processData:false,success:function(data){console.log('restForm success');if(location.pathname=='/restuploadform/'){console.log('upload without sending data to ga');var gaData=form.find("input:text[name='ga']");console.log('ga data in success handler '+gaData.val());}else{if(!isWeWorkIp){ga('send','event','cv upload sidebar done');}else{}}form.find('#uploading').hide()
form.find('.dz-message-sidebar').text(uploadSuccessMessage)},error:function(error){console.log("Error func >> "+JSON.stringify(error));var text="Error happened on upload. Please try again.";var errorObj=error.responseJSON;if(errorObj.error){if(errorObj.message){text=errorObj.message;}}form.find('#upload_error').css({"margin-top":"8em","background-color":"#ffeb3b","text-align":"left"});showErrorMsg(form.find('#uploading'),form.find(".the_file_rest"),form.find('#upload_error, #upload_cont'),form.find('#upload_error'),text);}});});$('#portfolio_image').live('change',function(){var imgVal=$('#portfolio_image').val();if(imgVal==''){console.log('No image is selected');}else{console.log('img val: '+imgVal);$(this).next('input').val('');}});$(function(){var init_slider=slider.home_init;if(init_slider){$('#slider-wrapper').owlCarousel({items:1,margin:0,dots:false,loop:true,lazyLoad:true,autoplay:home_slider.auto_play,autoplayTimeout:home_slider.auto_play_timeout,animateIn:home_slider.animate_in,animateOut:home_slider.animate_out,});}});$(function(){$('#slider-wrapper .owl-item').imgLiquid();});$(function(){$('#job-listing-tabs').tabs({hide:{effect:"fade",duration:'fast'},show:{effect:"fade",duration:'fast'}});});$(function(){var sync1=$('#testimonials-wrapper'),sync2=$('#testimonials-caption');sync1.owlCarousel({items:10,margin:5,center:true,loop:true,dots:false,nav:false,autoplay:true,autoplayTimeout:4000,autoWidth:true,mouseDrag:false,touchDrag:false,pullDrag:false,freeDrag:false,});function checkPosition(e){alert(e.item.index);}sync2.owlCarousel({mouseDrag:false,touchDrag:false,pullDrag:false,freeDrag:false,items:1,dots:false,loop:true,nav:false,animateOut:'fadeOutDown',animateIn:'fadeInDown',});sync1.on('change.owl.carousel',function(event){sync2.trigger('next.owl.carousel');});});$(function(){$('.companies-listing-wrapper').owlCarousel({loop:true,dots:false,nav:false,autoplay:true,autoplayTimeout:4000,autoWidth:true,mouseDrag:false,touchDrag:false,pullDrag:false,freeDrag:false,items:6,});});$(function(){$('.company_portfolio_items').owlCarousel({loop:true,dots:false,nav:true,autoplay:true,autoplayTimeout:4000,autoWidth:true,mouseDrag:false,touchDrag:false,pullDrag:false,freeDrag:false,items:2,});});$(function(){$('.featured-job-wrapper').owlCarousel({loop:true,dots:false,nav:true,navText:['&nbsp;','&nbsp;'],autoplay:true,autoplayTimeout:4000,autoWidth:true,items:3,});});$(function(){$('.featured-job-widget').owlCarousel({loop:true,dots:false,nav:true,navText:['&nbsp;','&nbsp;'],autoplay:true,autoplayTimeout:4000,autoWidth:true,items:1,});});$(function(){var i=1;$('.btn-add-url').on('click',function(){var form_id=$(this).attr("data-form-id");var form_html=$(form_id).html();var limit=$(this).attr("data-limit");var insert='<div class="repeated-form">'+form_html+'</div>';$(insert).insertBefore(form_id).slideDown('fast');if(i==limit&&limit!=''){$(this).prop('disabled',true);}i++;});$(document).on('click','.close-form',function(){var btn_id=$(this).attr("data-button-name");var btn_limit=$(this).attr("data-button-limit");$(this).parent().slideUp('fast',function(){$(this).remove();});if(i==btn_limit&btn_limit!=''){$(btn_id).prop('disabled',false);}i--;});});$(function(){var i=1;$('.btn-add-service').on('click',function(){var form_id=$(this).attr("data-form-id");var form_html=$(form_id).html();var limit=$(this).attr("data-limit");var insert='<div class="repeated-form">'+form_html+'</div>';$(insert).insertBefore(form_id).slideDown('fast');if(i==limit&&limit!=''){$(this).prop('disabled',true);}i++;});$(document).on('click','.close-form',function(){var btn_id=$(this).attr("data-button-name");var btn_limit=$(this).attr("data-button-limit");$(this).parent().slideUp('fast',function(){$(this).remove();});if(i==btn_limit&btn_limit!=''){$(btn_id).prop('disabled',false);}i--;});});$(function(){var i=1;$('.btn-add-client').on('click',function(){var form_id=$(this).attr("data-form-id");var form_html=$(form_id).html();var limit=$(this).attr("data-limit");var insert='<div class="repeated-form">'+form_html+'</div>';$(insert).insertBefore(form_id).slideDown('fast');if(i==limit&&limit!=''){$(this).prop('disabled',true);}i++;});$(document).on('click','.close-form',function(){var btn_id=$(this).attr("data-button-name");var btn_limit=$(this).attr("data-button-limit");$(this).parent().slideUp('fast',function(){$(this).remove();});if(i==btn_limit&btn_limit!=''){$(btn_id).prop('disabled',false);}i--;});});$(function(){var i=1;$('.btn-add-portfolio').on('click',function(){var form_id=$(this).attr("data-form-id");var form_html=$(form_id).html();var limit=$(this).attr("data-limit");var insert='<div class="repeated-form">'+form_html+'</div>';$(insert).insertBefore(form_id).slideDown('fast');if(i==limit&&limit!=''){$(this).prop('disabled',true);}i++;});$(document).on('click','.close-form',function(){var btn_id=$(this).attr("data-button-name");var btn_limit=$(this).attr("data-button-limit");$(this).parent().slideUp('fast',function(){$(this).remove();});if(i==btn_limit&btn_limit!=''){$(btn_id).prop('disabled',false);}i--;});});$(function(){function success_status(){$('.contact-form-status').slideDown('fast');$('.btn-send-contact-form').button('reset');setTimeout(function(){$('#contact-resume-modal').modal('hide');},2000);}function before_submit(){$('.btn-send-contact-form').button('loading');}var options={resetForm:true,success:success_status,beforeSubmit:before_submit};$('#contact-form').ajaxForm(options);$('#contact-job-seeker').ajaxForm(options);});$(function(){function before_submit(formData,jqForm,options){var queryString=$.param(formData);var form_id=jqForm.attr('data-post-id');var bool=confirm('Are you sure?');if(bool==false){return false;}}function on_success(responseText,statusText,xhr,$form){var response=responseText.getElementsByTagName("response_data")[0].childNodes[0].nodeValue;$('#list-item-'+response).fadeOut('normal',function(){$(this).remove();});}var options={success:on_success,beforeSubmit:before_submit,dataType:'xml'};$('.jobboard_delete_item').ajaxForm(options);});$(function(){function on_success(responseText,statusText,xhr,$form){var form='<i class="fa fa-check"></i> Featured';$form.html(form);}var options={success:on_success,}
$('.jobboard_featured_item').ajaxForm(options);});$(function(){function on_success(responseText,statusText,xhr,$form){$form.children('.application_icons').html('<i class="fa fa-check"></i>').delay('3000').fadeOut();}function before_submit(arr,$form,options){$form.append('<span class="application_icons"><i class="fa fa-refresh fa-spin"></i></span>');}var options={success:on_success,beforeSubmit:before_submit}
$('.application_status').on('change',function(){$(this).parent('.application_status_form').ajaxSubmit(options);});});$(function(){$('.disable').disable=true;$('#bookmark-button').popover();});$(function(){function on_success(responseText,statusText,xhr,$form){var btn_ed=$('#bookmark-button').attr('data-on-success');$('#bookmark-button').html(btn_ed);}function before_submit(){$('#bookmark-button').button('loading');}var options={success:on_success,beforeSubmit:before_submit}
$('#bookmark-resume').ajaxForm(options);});$(function(){$('li.menu-item-has-children > a').on('click',function(e){e.preventDefault();$(this).next('.sub-menu').slideToggle('fast');});});$('.caption-content').mouseover(function(){var targetHeight=$(this).prop('scrollHeight');if(targetHeight>140){$(this).animate({height:targetHeight});$(this).parent().addClass('active');}});$('.caption-content').mouseleave(function(){$(this).animate({height:140});$(this).parent().removeClass('active');});});